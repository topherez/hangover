<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2011-2012 Google Inc. All Rights Reserved -->
<Module>
  <ModulePrefs title="Talking Head" height="200" width="550">
  <Require feature="dynamic-height"/>
  <Require feature="rpc"/>
</ModulePrefs>
<Content type="html"><![CDATA[
  <script type="text/javascript" src="//www.google.com/jsapi"></script>
  <script type="text/javascript">google.load("jquery", "1.4.1");</script>
  <script type="text/javascript" src="//plus.google.com/hangouts/_/api/v1/hangout.js"></script>
  
  <script type="text/javascript">
  	function checkUrlParameters(parameter){
  	  
  	   var currLocation = window.location.search,
  	       parArr = currLocation.split("?")[1].split("&");
  	   
  	   for(var i = 0; i < parArr.length; i++){
  	        parr = parArr[i].split("=");
  	        console.log(parr, parameter);
  	        if(parr[0] == parameter){
  	            return (decode) ? decodeURIComponent(parr[1]) : parr[1];
  	            returnBool = true;
  	        }else{
  	            returnBool = false;            
  	        }
  	   }
  	   
  	   if(!returnBool) return false;  
  	}
  	
  	var scriptHosted = 'hangover.noyoudontsuck.com/hangover/ggs/talkinghead.js';
	var scriptLocal = 'hangover.dev/hangover/ggs/talkinghead.js';
	
  	var paramCheck = getUrlParameters("scriptsource", "", true);
  	
	var my_awesome_script = document.createElement('script');
  	
  	
  	if(paramCheck == 'local'){
  		console.log('<!> Using Local JS');
	  	my_awesome_script.setAttribute('src', '//'+ scriptLocal);
  	}else{
  		console.log('No localtesting param found...using hosted JS');
	  	my_awesome_script.setAttribute('src', '//'+ scriptHosted);
  	}

	document.head.appendChild(my_awesome_script);
  	
  </script>
	
  <link type="text/css" rel="stylesheet"href="//hangoutsapi.appspot.com/static/talkinghead/style.css" />

]]></Content>
</Module>
